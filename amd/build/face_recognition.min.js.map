{"version":3,"file":"face_recognition.min.js","sources":["../src/face_recognition.js"],"sourcesContent":["define(['jquery', 'core/modal_factory', 'core/modal_events', 'core/templates',\n'core/ajax', 'quizaccess_videocapture/face_recognition_client'],\n function($, ModalFactory, ModalEvents, Templates, ajax, RC) {\n\n    return{\n        init: function(){\n\n            $('button[name=\"startvideocap\"]').on('click', function(){\n                $('#recogfailed').hide();\n                $('.pic_container').show();\n                $('#failedmessage').show();\n                $('#failedmessage_api').hide();\n                $('#recogsuccess').hide();\n                $('#recogloader').hide();\n                $('.videocappreflight').show();\n                if(RC.stream === null){\n                    RC.startVideoCap('video', 'canvas', 'photo');\n                }else{\n                    $('#recogloader').show();\n                    RC.takepicture();\n                }\n            });\n\n\n            $('input[name=\"cancel\"]').on('click', () => {\n                $('#recogfailed').hide();\n                $('#recogsuccess').hide();\n                $('#recogloader').hide();\n                $('.videocappreflight').hide();\n                $('input[name=\"submitbutton\"]').attr('disabled', 'disabled');\n                RC.releaseStream();\n            });\n\n            document.addEventListener('snapshotCheckSuccess', () =>{\n                $('input[name=\"facematched\"]').attr('value', '1');\n                $('input[name=\"submitbutton\"]').removeAttr('disabled');\n                $('#recogfailed').hide();\n                $('#recogloader').hide();\n                $('#recogsuccess').show();\n            });\n\n            document.addEventListener('snapshotCheckFailed', (e) =>{\n                $('input[name=\"facematched\"]').attr('value', '0');\n                $('input[name=\"submitbutton\"]').attr('disabled', 'disabled');\n                $('#recogsuccess').hide();\n                $('#recogloader').hide();\n                $('#recogfailed').show();\n                if(e.detail.remote_error){\n                    $('.pic_container').hide();\n                    $('#failedmessage').hide();\n                    $('#failedmessage_api').show();\n                }\n            });\n\n            document.getElementById('video').addEventListener('canplay', () => {\n                $('#recogloader').show();\n            });\n        }\n    };\n\n});"],"names":["define","$","ModalFactory","ModalEvents","Templates","ajax","RC","init","on","hide","show","stream","startVideoCap","takepicture","attr","releaseStream","document","addEventListener","removeAttr","e","detail","remote_error","getElementById"],"mappings":"AAAAA,kDAAO,CAAC,SAAU,qBAAsB,oBAAqB,iBAC7D,YAAa,oDACZ,SAASC,EAAGC,aAAcC,YAAaC,UAAWC,KAAMC,UAE/C,CACFC,KAAM,WAEFN,EAAE,gCAAgCO,GAAG,SAAS,WAC1CP,EAAE,gBAAgBQ,OAClBR,EAAE,kBAAkBS,OACpBT,EAAE,kBAAkBS,OACpBT,EAAE,sBAAsBQ,OACxBR,EAAE,iBAAiBQ,OACnBR,EAAE,gBAAgBQ,OAClBR,EAAE,sBAAsBS,OACP,OAAdJ,GAAGK,OACFL,GAAGM,cAAc,QAAS,SAAU,UAEpCX,EAAE,gBAAgBS,OAClBJ,GAAGO,kBAKXZ,EAAE,wBAAwBO,GAAG,SAAS,KAClCP,EAAE,gBAAgBQ,OAClBR,EAAE,iBAAiBQ,OACnBR,EAAE,gBAAgBQ,OAClBR,EAAE,sBAAsBQ,OACxBR,EAAE,8BAA8Ba,KAAK,WAAY,YACjDR,GAAGS,mBAGPC,SAASC,iBAAiB,wBAAwB,KAC9ChB,EAAE,6BAA6Ba,KAAK,QAAS,KAC7Cb,EAAE,8BAA8BiB,WAAW,YAC3CjB,EAAE,gBAAgBQ,OAClBR,EAAE,gBAAgBQ,OAClBR,EAAE,iBAAiBS,UAGvBM,SAASC,iBAAiB,uBAAwBE,IAC9ClB,EAAE,6BAA6Ba,KAAK,QAAS,KAC7Cb,EAAE,8BAA8Ba,KAAK,WAAY,YACjDb,EAAE,iBAAiBQ,OACnBR,EAAE,gBAAgBQ,OAClBR,EAAE,gBAAgBS,OACfS,EAAEC,OAAOC,eACRpB,EAAE,kBAAkBQ,OACpBR,EAAE,kBAAkBQ,OACpBR,EAAE,sBAAsBS,WAIhCM,SAASM,eAAe,SAASL,iBAAiB,WAAW,KACzDhB,EAAE,gBAAgBS"}