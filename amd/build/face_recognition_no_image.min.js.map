{"version":3,"file":"face_recognition_no_image.min.js","sources":["../src/face_recognition_no_image.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Manage the first step of the acquisition of a new profile picture.\n *\n * @module     quizaccess_videocapture/face_recognition_no_image\n * @author     Alberto Villani <alberto.villani@abacotechnology.it>\n * @copyright  2022 Abaco Technology\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport $ from 'jquery';\nimport ModalCancel from 'core/modal_cancel';\nimport Templates from 'core/templates';\nimport Notification from 'core/notification';\nimport {getString} from 'core/str';\n\nexport const init = (userid, usercontextid, user_picurl) => {\n\n    $('button[name=\"startvideocap\"]').on('click', function(){\n        $('.preflighttitle').hide();\n        $('#fitem_id_startvideocap').hide();\n        $('.videocappreflight #container00').show();\n        $('.videocappreflight').show();\n    });\n\n    $('.continue00').on('click', function(e){\n        e.preventDefault();\n        const context = {\n            name: 'videocappreflight01',\n            userid: userid,\n            usercontextid: usercontextid,\n            user_picurl: user_picurl\n        };\n        $('.videocappreflight #container01').remove();\n        let tmpl = '';\n        switch($('input[name=\"upload\"]:checked').val()){\n            case \"0\":\n                tmpl = 'quizaccess_videocapture/preflight_form_no_image_01_shoot';\n                break;\n            case \"1\":\n                tmpl = 'quizaccess_videocapture/preflight_form_no_image_01_upload';\n                break;\n        }\n        if(tmpl != ''){\n            Templates.renderForPromise(tmpl, context)\n            .then((html) => {\n                $('#container00').hide();\n                Templates.appendNodeContents('.videocappreflight', html.html, html.js);\n            }).catch(ex => Notification.exception(ex));\n        }\n\n    });\n\n    $('#abacoprivacylink').on('click', function (e){\n        e.preventDefault();\n        privacyModalFunction();\n    });\n};\n\nconst privacyModalFunction = async() => {\n    const privacyModal = await ModalCancel.create({\n        title: getString('abacoprivacytitle','quizaccess_videocapture'),\n        body: Templates.render('quizaccess_videocapture/modal_privacy_body'),\n    });\n    privacyModal.show();\n};\n"],"names":["userid","usercontextid","user_picurl","on","hide","show","e","preventDefault","context","name","remove","tmpl","val","renderForPromise","then","html","appendNodeContents","js","catch","ex","Notification","exception","privacyModalFunction","async","ModalCancel","create","title","body","Templates","render"],"mappings":";;;;;;;;8RA8BoB,CAACA,OAAQC,cAAeC,mCAEtC,gCAAgCC,GAAG,SAAS,+BACxC,mBAAmBC,2BACnB,2BAA2BA,2BAC3B,mCAAmCC,2BACnC,sBAAsBA,8BAG1B,eAAeF,GAAG,SAAS,SAASG,GAClCA,EAAEC,uBACIC,QAAU,CACZC,KAAM,sBACNT,OAAQA,OACRC,cAAeA,cACfC,YAAaA,iCAEf,mCAAmCQ,aACjCC,KAAO,WACJ,mBAAE,gCAAgCC,WAChC,IACDD,KAAO,qEAEN,IACDA,KAAO,4DAGJ,IAARA,yBACWE,iBAAiBF,KAAMH,SAChCM,MAAMC,2BACD,gBAAgBX,0BACRY,mBAAmB,qBAAsBD,KAAKA,KAAMA,KAAKE,OACpEC,OAAMC,IAAMC,sBAAaC,UAAUF,6BAK5C,qBAAqBhB,GAAG,SAAS,SAAUG,GACzCA,EAAEC,iBACFe,iCAIFA,qBAAuBC,iBACEC,sBAAYC,OAAO,CAC1CC,OAAO,kBAAU,oBAAoB,2BACrCC,KAAMC,mBAAUC,OAAO,iDAEdxB"}